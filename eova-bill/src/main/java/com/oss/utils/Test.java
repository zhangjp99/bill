package com.oss.utils;


import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.HttpURLConnection;
import java.net.URL;



public class Test {
	public static void main(String[] args) throws Exception {
		// 策略管理
		test5();
	}
	//生成很多个*号  
	public static String createAsterisk(int length) {  
	    StringBuffer stringBuffer = new StringBuffer();  
	    for (int i = 0; i < length; i++) {  
	        stringBuffer.append("*");  
	    }  
	    return stringBuffer.toString();  
	}  
	// 获取客户端更新
	public static void main1(String[] args) throws IOException{
		URL url = new URL("http://127.0.0.1:8080/ziyaInner/update4ziyaIos.wms");
		HttpURLConnection conn = (HttpURLConnection) url
				.openConnection();
		conn.setRequestMethod("POST");
		conn.setDoInput(true);
		conn.setDoOutput(true);//http://wms/queryLwhc
		conn.setUseCaches(false);//CardNo
		conn.setRequestProperty("wms-url", "http://wms/test");
		conn.setRequestProperty("wms-cipher", "3des;abcdabcdabcd");
		conn.setRequestProperty("wms-compress", "gzip");
		conn.setRequestProperty("userId", "313287");
		conn.setRequestProperty("pin", "gzip");
		OutputStream os = conn.getOutputStream();
		System.out.println("11111111111");//lenovo-imei-86263302763
		//os.write("{\"body\":{\"isRegister\":\"0\",\"brand\":\"Android\",\"mac\":\"020000000000\",\"userName\":\"test\",\"actionType\":\"20\",\"jailBreak\":\"N\",\"simCardCode\":\"\",\"deviceName\":\"iPhone\",\"osEdition\":\"7.1.2\",\"deviceToken\":\"2aa2a9dfa7de47e869c3a4aa6ea9f0479862a83e146666f3bf2a211e89ee85f2\",\"userPwd\":\"abc123\",\"MobileType\":\"iPhone\"},\"head\":{\"action\":\"selfHelpActive\",\"deviceModel\":\"iPhone5,2\",\"osType\":\"Android\",\"userCode\":\"test1\",\"deviceType\":\"iPhone\",\"identifier\":\"330d87741af99f14c49565184cae315a3891abcd\"}}".getBytes("utf-8"));
		os.write("{\"head\":{},\"body\":{\"packageName\":\"ceshi\",\"type\":\"12\",\"versionCode\":\"5.0.0.013\"}}".getBytes("utf-8"));
		//os.write("{\"head\":{\"id5\":\"\",\"osType\":\"Android\",\"userCode\":\"tangcan\",\"identifier\":\"samsung-imei-353415061869080\",\"deviceType\":\"0\"},\"body\":{}}".getBytes("utf-8"));
		os.close();//402880ce4b5e952c014bed996f9b2e80  huawei-imei-a000004f0027fb
		//lenovo-wifi-0090a2881a8c 
	    InputStream in = conn.getInputStream();
	    System.out.println("=====================================");
		ByteArrayOutputStream bos = new ByteArrayOutputStream();				
		int i = 0;
		while ((i = in.read()) != -1) {
			bos.write(i);
		}
		byte[] re = bos.toByteArray();				
		String reply = new String(re, "UTF-8").trim();
		System.out.println("返回："+reply);
		bos.close();
		in.close();	
			
		}
	// 查询消息详情测试
	public static void test3() throws IOException{
		URL url = new URL("http://127.0.0.1:8080/ziyaInner/getAppMsgList.wms");
		HttpURLConnection conn = (HttpURLConnection) url
				.openConnection();
		conn.setRequestMethod("POST");
		conn.setDoInput(true);
		conn.setDoOutput(true);//http://wms/queryLwhc
		conn.setUseCaches(false);//CardNo
		conn.setRequestProperty("wms-url", "http://wms/test");
		conn.setRequestProperty("wms-cipher", "3des;abcdabcdabcd");
		conn.setRequestProperty("wms-compress", "gzip");
		conn.setRequestProperty("userId", "313287");
		conn.setRequestProperty("pin", "gzip");
		OutputStream os = conn.getOutputStream();
		System.out.println("11111111111");//lenovo-imei-86263302763
		//os.write("{\"body\":{\"isRegister\":\"0\",\"brand\":\"Android\",\"mac\":\"020000000000\",\"userName\":\"test\",\"actionType\":\"20\",\"jailBreak\":\"N\",\"simCardCode\":\"\",\"deviceName\":\"iPhone\",\"osEdition\":\"7.1.2\",\"deviceToken\":\"2aa2a9dfa7de47e869c3a4aa6ea9f0479862a83e146666f3bf2a211e89ee85f2\",\"userPwd\":\"abc123\",\"MobileType\":\"iPhone\"},\"head\":{\"action\":\"selfHelpActive\",\"deviceModel\":\"iPhone5,2\",\"osType\":\"Android\",\"userCode\":\"test1\",\"deviceType\":\"iPhone\",\"identifier\":\"330d87741af99f14c49565184cae315a3891abcd\"}}".getBytes("utf-8"));
		os.write("{\"head\":{\"id5\":\"854cd8e1b75e5cb90bf953c7f6f860ef\",\"osType\":\"Android\",\"userCode\":\"lqj\",\"identifier\":\"samsung-imei-353745060000935\",\"deviceType\":\"0\"},\"body\":{\"appId\":\"EMM\"}}".getBytes("utf-8"));
		//String tt="{\"head\":{\"id5\":\"854cd8e1b75e5cb90bf953c7f6f860ef\",\"osType\":\"Android\",\"userCode\":\"lqj\",\"identifier\":\"samsung-imei-353745060000935\",\"deviceType\":\"0\"},\"body\":{\"appId\":\"EMM\"}}";
		//os.write("{\"head\":{\"id5\":\"\",\"osType\":\"Android\",\"userCode\":\"tangcan\",\"identifier\":\"samsung-imei-353415061869080\",\"deviceType\":\"0\"},\"body\":{}}".getBytes("utf-8"));
		os.close();//402880ce4b5e952c014bed996f9b2e80  huawei-imei-a000004f0027fb
		//lenovo-wifi-0090a2881a8c 
	    InputStream in = conn.getInputStream();
	    System.out.println("=====================================");
		ByteArrayOutputStream bos = new ByteArrayOutputStream();				
		int i = 0;
		while ((i = in.read()) != -1) {
			bos.write(i);
		}
		byte[] re = bos.toByteArray();				
		String reply = new String(re, "UTF-8").trim();
		System.out.println("返回："+reply);
		bos.close();
		in.close();		
		
	}
	// 查询全部消息测试
	public static void test4() throws IOException{
		String url = "http://127.0.0.1:8080/ziyaInner/getAppMsgAllList.wms";
		String json = "{\"head\":{\"id5\":\"a77a34035e8516a91ea7ccb7712a8fc0\",\"osType\":\"Android\",\"userCode\":\"lqj\",\"identifier\":\"samsung-imei-353745060000935\",\"deviceType\":\"0\"},\"body\":{\"msgId\":\"-1\"}}";
		unitl(url,json);
	}
	// 策略发送测试
	public static void test5() throws IOException{
		String url = "http://127.0.0.1:8080/ziyaCloudInner/uploadDeviceInfo.wms";
		// 应用强制安装策略
		//String json = "{\"head\":{\"userCode\":\"111111\"},\"body\":{\"policyId\":\"16\",\"orgIds\":[\"402880fe4c9d6811014ca25758e21c48\"],\"groupIds\":[\"402880fe4cb20f90014cc5fe7bf1010a\"],\"cancelOrgIds\":[],\"type\":\"2\"}}";
		//应用独占安装策略
		//String json = "{\"head\":{\"userCode\":\"111111\"},\"body\":{\"policyId\":\"16\",\"orgIds\":[\"402880fe4c9d6811014ca25758e21c48\"],\"groupIds\":[\"402880fe4cb20f90014cc635a6af012b\"],\"cancelOrgIds\":[],\"type\":\"4\"}}";
		// 策略管理接口
		String json= "{\"body\":{\"Battery\":{\"RemainPower\":\"87\"},\"Bluetooth\":{\"BluetoothMac\":\"98:E7:F5:5D:83:B5\",\"BluetoothName\":\"HUAWEI Mate 8\",\"IPAddressMac\":\"98:E7:F5:5D:7B:E4\"},\"Cpu\":{\"Cpuname\":\" AArch64 Processor rev 4 (aarch64) \",\"PNameGroup\":[\"管理平台\",\"\",\"\"],\"PPercentGroup\":[\"0\",\"0\",\"0\"],\"SProcess\":\"3\",\"UProcess\":\"0\"},\"InstalledApps\":[{\"Name\":\"搜狗输入法\",\"Package\":\"com.sohu.inputmethod.sogou\",\"downloadtraffictotaldaliy\":\"725\",\"installTime\":\"2018-06-15 17:23:27\",\"isrunning\":\"0\",\"savetime\":\"2018-06-15 17:23:27\",\"uploadtraffictotaldaliy\":\"1044\",\"version\":\"8.20.1\",\"versionCode\":\"831\"},{\"Name\":\"管理平台\",\"Package\":\"com.techown.emm\",\"downloadtraffictotaldaliy\":\"7954660\",\"installTime\":\"2018-06-25 16:21:20\",\"isrunning\":\"1\",\"savetime\":\"2018-06-25 16:21:20\",\"uploadtraffictotaldaliy\":\"317089\",\"version\":\"6.11.00.14\",\"versionCode\":\"2006110014\"},{\"Name\":\"ZIYA内容管理\",\"Package\":\"com.techown.mcm\",\"downloadtraffictotaldaliy\":\"3002832\",\"installTime\":\"2018-06-25 16:16:45\",\"isrunning\":\"1\",\"savetime\":\"2018-06-25 16:22:41\",\"uploadtraffictotaldaliy\":\"30831\",\"version\":\"6.11.0.010\",\"versionCode\":\"2006110010\"},{\"Name\":\"SDKDemo\",\"Package\":\"com.techown.sdkdemo\",\"downloadtraffictotaldaliy\":\"47860\",\"installTime\":\"2018-06-20 09:32:43\",\"isrunning\":\"0\",\"savetime\":\"2018-06-20 09:32:43\",\"uploadtraffictotaldaliy\":\"50713\",\"version\":\"1.0\",\"versionCode\":\"1\"},{\"Name\":\"UC浏览器\",\"Package\":\"com.UCMobile\",\"downloadtraffictotaldaliy\":\"142746336\",\"installTime\":\"2018-06-15 17:13:38\",\"isrunning\":\"1\",\"savetime\":\"2018-06-15 17:13:38\",\"uploadtraffictotaldaliy\":\"3352147\",\"version\":\"12.0.2.982\",\"versionCode\":\"982\"},{\"Name\":\"网络测试工具\",\"Package\":\"com.example.httptest\",\"downloadtraffictotaldaliy\":\"0\",\"installTime\":\"2018-06-15 17:30:06\",\"isrunning\":\"0\",\"savetime\":\"2018-06-15 17:30:06\",\"uploadtraffictotaldaliy\":\"360\",\"version\":\"1.0\",\"versionCode\":\"1\"}],\"Memory\":{\"IsM\":\"1\",\"IsMROM\":\"1\",\"IsSD\":\"1\",\"MMTotalCapacity\":\"25156\",\"MMUnusedCapacity\":\"21768\",\"MROMTotalCapacity\":\"2780\",\"MROMUnusedCapacity\":\"217\",\"SDTotalCapacity\":\"25136\",\"SDUnusedCapacity\":\"21748\"},\"NetTraffic\":[{\"downloadtraffictotaldaliy_3g\":\"0\",\"downloadtraffictotaldaliy_total\":\"56023727\",\"savetime\":\"2018-06-25\",\"traffic_unit\":\"3\",\"uploadtraffictotaldaliy_3g\":\"0\",\"uploadtraffictotaldaliy_total\":\"1404007\"}],\"Signal\":{\"Strength\":\"high\"},\"Version\":{\"AndroidVersion\":\"7.0\",\"BasebandVersion\":\"21.258.08.00.030,21.258.08.00.030\",\"ImeiNumber\":\"868403021654998\",\"InnerVersion\":\"4.1.18-g725239a\",\"isLock\":\"0\",\"isroot\":\"0\",\"netConnectionInfo\":\"Wifi\",\"sdCardId\":\"\"},\"simInfo\":[]},\"head\":{\"id5\":\"9b8dae4e57a240ab96b4001f04290a21\",\"identifier\":\"huawei-imei-865581030683224-865581031002218\",\"osType\":\"android\",\"time\":\"1529915360788\"}}";
		//String json ="{\"type\":1,\"deviceId\":\"vivo-imei-868741030896682-868741030896690\",\"alias\":\"vivo-imei-868741030896682-868741030896690\",\"status\":\"0\",\"time\":1530002710997}";
		unitl(url,json);
		
		//tpuch发送报文结果
		//应用强制安装策略
		//{"head":{"code":"0000","desc":"组织策略成功","notifyType":"1"},"body":{"comm":{"Command":{"RequestType":{"content":"InstallApplication"},"ManifestURL":{"content":"http://192.168.0.126:8080/emm/upload/apps/ios/09821030982103.Plist"},"ManagementFlags":{"type":0,"longValue":1,"doubleValue":1.0,"boolValue":false}},"CommandUUID":"40289ea14cc5e058014cc60ef7a30000"},"BData":{"policyId":"16","policyName":"应用程序分类","sendTime":"2015-04-17 14:23:27","sender":"111111"}}}

		//应用独占安装策略
		//{"head":{"code":"0000","desc":"组织策略成功","notifyType":"1"},"body":{"comm":{"Command":{"RequestType":{"content":"InstallProfile"},"Payload":{"bytes":[60,112,108,105,115,116,32,118,101,114,115,105,111,110,61,34,49,46,48,34,62,13,10,60,100,105,99,116,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,67,111,110,116,101,110,116,60,47,107,101,121,62,13,10,9,60,97,114,114,97,121,62,13,10,9,9,60,100,105,99,116,62,13,10,9,9,9,60,107,101,121,62,65,112,112,60,47,107,101,121,62,13,10,9,9,9,60,100,105,99,116,62,13,10,9,9,9,9,60,107,101,121,62,73,100,101,110,116,105,102,105,101,114,60,47,107,101,121,62,13,10,9,9,9,9,60,115,116,114,105,110,103,62,99,111,109,46,113,117,110,97,114,46,103,111,110,103,108,117,101,60,47,115,116,114,105,110,103,62,13,10,9,9,9,60,47,100,105,99,116,62,13,10,9,9,9,60,107,101,121,62,80,97,121,108,111,97,100,68,101,115,99,114,105,112,116,105,111,110,60,47,107,101,121,62,13,10,9,9,9,60,115,116,114,105,110,103,62,65,112,112,76,111,99,107,60,47,115,116,114,105,110,103,62,13,10,9,9,9,60,107,101,121,62,80,97,121,108,111,97,100,68,105,115,112,108,97,121,78,97,109,101,60,47,107,101,121,62,13,10,9,9,9,60,115,116,114,105,110,103,62,-75,-91,-46,-69,65,112,112,-60,-93,-54,-67,60,47,115,116,114,105,110,103,62,13,10,9,9,9,60,107,101,121,62,80,97,121,108,111,97,100,73,100,101,110,116,105,102,105,101,114,60,47,107,101,121,62,13,10,9,9,9,60,115,116,114,105,110,103,62,52,48,50,56,56,48,102,101,52,99,98,50,48,102,57,48,48,49,52,99,99,54,51,53,97,54,97,102,48,49,50,98,46,65,112,112,76,111,99,107,60,47,115,116,114,105,110,103,62,13,10,9,9,9,60,107,101,121,62,80,97,121,108,111,97,100,79,114,103,97,110,105,122,97,116,105,111,110,60,47,107,101,121,62,13,10,9,9,9,60,115,116,114,105,110,103,62,84,101,99,104,111,119,110,60,47,115,116,114,105,110,103,62,13,10,9,9,9,60,107,101,121,62,80,97,121,108,111,97,100,84,121,112,101,60,47,107,101,121,62,13,10,9,9,9,60,115,116,114,105,110,103,62,99,111,109,46,97,112,112,108,101,46,97,112,112,46,108,111,99,107,60,47,115,116,114,105,110,103,62,13,10,9,9,9,60,107,101,121,62,80,97,121,108,111,97,100,85,85,73,68,60,47,107,101,121,62,13,10,9,9,9,60,115,116,114,105,110,103,62,52,54,66,49,50,49,51,68,45,67,56,50,70,45,52,52,54,67,45,57,54,53,48,45,50,68,57,66,68,66,69,69,51,51,70,55,60,47,115,116,114,105,110,103,62,13,10,9,9,9,60,107,101,121,62,80,97,121,108,111,97,100,86,101,114,115,105,111,110,60,47,107,101,121,62,13,10,9,9,9,60,105,110,116,101,103,101,114,62,49,60,47,105,110,116,101,103,101,114,62,13,10,9,9,60,47,100,105,99,116,62,13,10,9,60,47,97,114,114,97,121,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,68,101,115,99,114,105,112,116,105,111,110,60,47,107,101,121,62,13,10,9,60,115,116,114,105,110,103,62,65,112,112,76,111,99,107,60,47,115,116,114,105,110,103,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,68,105,115,112,108,97,121,78,97,109,101,60,47,107,101,121,62,13,10,9,60,115,116,114,105,110,103,62,-75,-91,-46,-69,65,112,112,-60,-93,-54,-67,60,47,115,116,114,105,110,103,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,73,100,101,110,116,105,102,105,101,114,60,47,107,101,121,62,13,10,9,60,115,116,114,105,110,103,62,52,48,50,56,56,48,102,101,52,99,98,50,48,102,57,48,48,49,52,99,99,54,51,53,97,54,97,102,48,49,50,98,60,47,115,116,114,105,110,103,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,79,114,103,97,110,105,122,97,116,105,111,110,60,47,107,101,121,62,13,10,9,60,115,116,114,105,110,103,62,84,101,99,104,111,119,110,32,67,111,46,44,76,116,100,60,47,115,116,114,105,110,103,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,82,101,109,111,118,97,108,68,105,115,97,108,108,111,119,101,100,60,47,107,101,121,62,13,10,9,60,102,97,108,115,101,47,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,84,121,112,101,60,47,107,101,121,62,13,10,9,60,115,116,114,105,110,103,62,67,111,110,102,105,103,117,114,97,116,105,111,110,60,47,115,116,114,105,110,103,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,85,85,73,68,60,47,107,101,121,62,13,10,9,60,115,116,114,105,110,103,62,56,65,51,54,69,68,53,70,45,54,65,52,56,45,52,66,65,50,45,57,67,49,49,45,54,51,66,53,69,65,66,70,52,65,66,69,60,47,115,116,114,105,110,103,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,86,101,114,115,105,111,110,60,47,107,101,121,62,13,10,9,60,105,110,116,101,103,101,114,62,49,60,47,105,110,116,101,103,101,114,62,13,10,60,47,100,105,99,116,62,13,10,60,47,112,108,105,115,116,62],"isStr":true}},"CommandUUID":"40289ea14cc5e058014cc642cfb10003"},"BData":{"policyId":"16","policyName":"应用程序分类","sendTime":"2015-04-17 15:23:04","sender":"111111"}}}
		
		// 综合设置策略传递TPUCH字符
		//{"head":{"code":"0000","desc":"组织策略成功","notifyType":"1"},"body":{"comm":{"Command":{"RequestType":{"content":"InstallProfile"},"Payload":{"bytes":[60,112,108,105,115,116,32,118,101,114,115,105,111,110,61,34,49,46,48,34,62,13,10,60,100,105,99,116,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,67,111,110,116,101,110,116,60,47,107,101,121,62,13,10,9,60,97,114,114,97,121,62,13,10,9,9,60,100,105,99,116,62,13,10,9,9,9,60,107,101,121,62,80,97,121,108,111,97,100,68,101,115,99,114,105,112,116,105,111,110,60,47,107,101,121,62,13,10,9,9,9,60,115,116,114,105,110,103,62,67,111,110,102,105,103,117,114,101,115,32,100,101,118,105,99,101,32,114,101,115,116,114,105,99,116,105,111,110,115,46,60,47,115,116,114,105,110,103,62,13,10,9,9,9,60,107,101,121,62,80,97,121,108,111,97,100,68,105,115,112,108,97,121,78,97,109,101,60,47,107,101,121,62,13,10,9,9,9,60,115,116,114,105,110,103,62,82,101,115,116,114,105,99,116,105,111,110,115,60,47,115,116,114,105,110,103,62,13,10,9,9,9,60,107,101,121,62,80,97,121,108,111,97,100,73,100,101,110,116,105,102,105,101,114,60,47,107,101,121,62,13,10,9,9,9,60,115,116,114,105,110,103,62,99,111,109,46,116,101,99,104,111,119,110,46,52,48,50,56,56,48,102,101,52,99,98,50,48,102,57,48,48,49,52,99,99,54,53,50,51,97,55,98,48,49,50,100,46,82,101,115,116,114,105,99,116,105,111,110,115,60,47,115,116,114,105,110,103,62,13,10,9,9,9,60,107,101,121,62,80,97,121,108,111,97,100,79,114,103,97,110,105,122,97,116,105,111,110,60,47,107,101,121,62,13,10,9,9,9,60,115,116,114,105,110,103,62,99,111,109,46,116,101,99,104,111,119,110,60,47,115,116,114,105,110,103,62,13,10,9,9,9,60,107,101,121,62,80,97,121,108,111,97,100,84,121,112,101,60,47,107,101,121,62,13,10,9,9,9,60,115,116,114,105,110,103,62,99,111,109,46,97,112,112,108,101,46,97,112,112,108,105,99,97,116,105,111,110,97,99,99,101,115,115,60,47,115,116,114,105,110,103,62,13,10,9,9,9,60,107,101,121,62,80,97,121,108,111,97,100,85,85,73,68,60,47,107,101,121,62,13,10,9,9,9,60,115,116,114,105,110,103,62,56,67,69,70,48,48,48,69,45,69,49,65,69,45,52,52,48,52,45,56,49,65,54,45,54,53,67,55,57,65,54,70,50,69,57,53,60,47,115,116,114,105,110,103,62,13,10,9,9,9,60,107,101,121,62,80,97,121,108,111,97,100,86,101,114,115,105,111,110,60,47,107,101,121,62,13,10,9,9,9,60,105,110,116,101,103,101,114,62,49,60,47,105,110,116,101,103,101,114,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,67,97,109,101,114,97,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,86,105,100,101,111,67,111,110,102,101,114,101,110,99,105,110,103,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,83,99,114,101,101,110,83,104,111,116,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,65,105,114,68,114,111,112,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,67,104,97,116,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,86,111,105,99,101,68,105,97,108,105,110,103,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,65,115,115,105,115,116,97,110,116,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,65,115,115,105,115,116,97,110,116,87,104,105,108,101,76,111,99,107,101,100,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,102,111,114,99,101,65,115,115,105,115,116,97,110,116,80,114,111,102,97,110,105,116,121,70,105,108,116,101,114,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,65,115,115,105,115,116,97,110,116,85,115,101,114,71,101,110,101,114,97,116,101,100,67,111,110,116,101,110,116,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,66,111,111,107,115,116,111,114,101,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,65,112,112,73,110,115,116,97,108,108,97,116,105,111,110,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,65,112,112,82,101,109,111,118,97,108,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,73,110,65,112,112,80,117,114,99,104,97,115,101,115,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,102,111,114,99,101,73,84,117,110,101,115,83,116,111,114,101,80,97,115,115,119,111,114,100,69,110,116,114,121,60,47,107,101,121,62,13,10,9,9,9,60,102,97,108,115,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,67,108,111,117,100,66,97,99,107,117,112,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,67,108,111,117,100,68,111,99,117,109,101,110,116,83,121,110,99,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,67,108,111,117,100,75,101,121,99,104,97,105,110,83,121,110,99,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,83,104,97,114,101,100,83,116,114,101,97,109,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,83,104,97,114,101,100,83,116,114,101,97,109,82,101,99,101,105,118,101,73,110,118,105,116,97,116,105,111,110,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,83,104,97,114,101,100,83,116,114,101,97,109,83,101,110,100,73,110,118,105,116,97,116,105,111,110,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,80,104,111,116,111,83,116,114,101,97,109,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,71,108,111,98,97,108,66,97,99,107,103,114,111,117,110,100,70,101,116,99,104,87,104,101,110,82,111,97,109,105,110,103,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,102,111,114,99,101,69,110,99,114,121,112,116,101,100,66,97,99,107,117,112,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,102,111,114,99,101,76,105,109,105,116,65,100,84,114,97,99,107,105,110,103,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,85,110,116,114,117,115,116,101,100,84,76,83,80,114,111,109,112,116,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,79,84,65,80,75,73,85,112,100,97,116,101,115,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,85,73,67,111,110,102,105,103,117,114,97,116,105,111,110,80,114,111,102,105,108,101,73,110,115,116,97,108,108,97,116,105,111,110,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,65,99,99,111,117,110,116,77,111,100,105,102,105,99,97,116,105,111,110,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,70,105,110,100,77,121,70,114,105,101,110,100,115,77,111,100,105,102,105,99,97,116,105,111,110,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,72,111,115,116,80,97,105,114,105,110,103,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,79,112,101,110,70,114,111,109,77,97,110,97,103,101,100,84,111,85,110,109,97,110,97,103,101,100,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,79,112,101,110,70,114,111,109,85,110,109,97,110,97,103,101,100,84,111,77,97,110,97,103,101,100,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,68,105,97,103,110,111,115,116,105,99,83,117,98,109,105,115,115,105,111,110,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,70,105,110,103,101,114,112,114,105,110,116,70,111,114,85,110,108,111,99,107,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,102,111,114,99,101,65,105,114,80,108,97,121,73,110,99,111,109,105,110,103,82,101,113,117,101,115,116,115,80,97,105,114,105,110,103,80,97,115,115,119,111,114,100,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,102,111,114,99,101,65,105,114,80,108,97,121,79,117,116,103,111,105,110,103,82,101,113,117,101,115,116,115,80,97,105,114,105,110,103,80,97,115,115,119,111,114,100,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,80,97,115,115,98,111,111,107,87,104,105,108,101,76,111,99,107,101,100,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,76,111,99,107,83,99,114,101,101,110,67,111,110,116,114,111,108,67,101,110,116,101,114,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,76,111,99,107,83,99,114,101,101,110,78,111,116,105,102,105,99,97,116,105,111,110,115,86,105,101,119,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,76,111,99,107,83,99,114,101,101,110,84,111,100,97,121,86,105,101,119,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,89,111,117,84,117,98,101,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,105,84,117,110,101,115,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,71,97,109,101,67,101,110,116,101,114,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,65,100,100,105,110,103,71,97,109,101,67,101,110,116,101,114,70,114,105,101,110,100,115,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,77,117,108,116,105,112,108,97,121,101,114,71,97,109,105,110,103,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,83,97,102,97,114,105,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,115,97,102,97,114,105,65,99,99,101,112,116,67,111,111,107,105,101,115,60,47,107,101,121,62,13,10,9,9,9,60,105,110,116,101,103,101,114,62,48,60,47,105,110,116,101,103,101,114,62,13,10,9,9,9,60,107,101,121,62,115,97,102,97,114,105,65,108,108,111,119,65,117,116,111,70,105,108,108,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,115,97,102,97,114,105,65,108,108,111,119,74,97,118,97,83,99,114,105,112,116,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,115,97,102,97,114,105,65,108,108,111,119,80,111,112,117,112,115,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,115,97,102,97,114,105,70,111,114,99,101,70,114,97,117,100,87,97,114,110,105,110,103,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,114,97,116,105,110,103,82,101,103,105,111,110,60,47,107,101,121,62,13,10,9,9,9,60,115,116,114,105,110,103,62,117,115,60,47,115,116,114,105,110,103,62,13,10,9,9,9,60,107,101,121,62,114,97,116,105,110,103,77,111,118,105,101,115,60,47,107,101,121,62,13,10,9,9,9,60,105,110,116,101,103,101,114,62,49,48,48,48,60,47,105,110,116,101,103,101,114,62,13,10,9,9,9,60,107,101,121,62,114,97,116,105,110,103,84,86,83,104,111,119,115,60,47,107,101,121,62,13,10,9,9,9,60,105,110,116,101,103,101,114,62,49,48,48,48,60,47,105,110,116,101,103,101,114,62,13,10,9,9,9,60,107,101,121,62,114,97,116,105,110,103,65,112,112,115,60,47,107,101,121,62,13,10,9,9,9,60,105,110,116,101,103,101,114,62,49,48,48,48,60,47,105,110,116,101,103,101,114,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,69,120,112,108,105,99,105,116,67,111,110,116,101,110,116,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,9,60,107,101,121,62,97,108,108,111,119,66,111,111,107,115,116,111,114,101,69,114,111,116,105,99,97,60,47,107,101,121,62,13,10,9,9,9,60,116,114,117,101,47,62,13,10,9,9,60,47,100,105,99,116,62,13,10,9,60,47,97,114,114,97,121,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,68,101,115,99,114,105,112,116,105,111,110,60,47,107,101,121,62,13,10,9,60,115,116,114,105,110,103,62,67,111,110,102,105,103,117,114,97,116,105,111,110,60,47,115,116,114,105,110,103,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,68,105,115,112,108,97,121,78,97,109,101,60,47,107,101,121,62,13,10,9,60,115,116,114,105,110,103,62,116,101,115,116,60,47,115,116,114,105,110,103,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,73,100,101,110,116,105,102,105,101,114,60,47,107,101,121,62,13,10,9,60,115,116,114,105,110,103,62,99,111,109,46,116,101,99,104,111,119,110,46,52,48,50,56,56,48,102,101,52,99,98,50,48,102,57,48,48,49,52,99,99,54,53,50,51,97,55,98,48,49,50,100,60,47,115,116,114,105,110,103,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,79,114,103,97,110,105,122,97,116,105,111,110,60,47,107,101,121,62,13,10,9,60,115,116,114,105,110,103,62,84,101,99,104,111,119,110,32,67,111,46,44,76,116,100,60,47,115,116,114,105,110,103,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,82,101,109,111,118,97,108,68,105,115,97,108,108,111,119,101,100,60,47,107,101,121,62,13,10,9,60,102,97,108,115,101,47,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,84,121,112,101,60,47,107,101,121,62,13,10,9,60,115,116,114,105,110,103,62,67,111,110,102,105,103,117,114,97,116,105,111,110,60,47,115,116,114,105,110,103,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,85,85,73,68,60,47,107,101,121,62,13,10,9,60,115,116,114,105,110,103,62,49,52,50,57,50,53,55,49,52,57,56,53,50,60,47,115,116,114,105,110,103,62,13,10,9,60,107,101,121,62,80,97,121,108,111,97,100,86,101,114,115,105,111,110,60,47,107,101,121,62,13,10,9,60,105,110,116,101,103,101,114,62,49,60,47,105,110,116,101,103,101,114,62,13,10,60,47,100,105,99,116,62,13,10,60,47,112,108,105,115,116,62],"isStr":true}},"CommandUUID":"40289ea14cc5e058014cc65c15c20005"},"BData":{"policyId":"402880fe4cb20f90014cc6523a7b012d","policyName":"test","sendTime":"2015-04-17 15:50:40","sender":"apple123"}}}
	}
	// 查询已安装应用信息测试
	public static void test() throws IOException{
		String url = "http://127.0.0.1:8080/ziyaInner/iosAppsInstall.wms";
		String json = "{\"head\":{\"id5\":\"a77a34035e8516a91ea7ccb7712a8fc0\",\"osType\":\"Android\",\"userCode\":\"guff\",\"identifier\":\"samsung-imei-353745060000935\",\"deviceType\":\"0\"},\"body\":{\"msgId\":\"-1\"}}";
		unitl(url,json);
		
		
	}
	public static void unitl(String url,String json) throws IOException{
		URL url1 = new URL(url);
		HttpURLConnection conn = (HttpURLConnection) url1
				.openConnection();
		conn.setRequestMethod("POST");
		conn.setDoInput(true);
		conn.setDoOutput(true);//http://wms/queryLwhc
		conn.setUseCaches(false);//CardNo
		conn.setRequestProperty("wms-url", "http://wms/test");
		conn.setRequestProperty("wms-cipher", "3des;abcdabcdabcd");
		conn.setRequestProperty("wms-compress", "gzip");
		conn.setRequestProperty("companyAccount", "emm");
		conn.setRequestProperty("identifier", "28DB8152DE4A40DC21CA9F237C54FBD95B1D6E50");
		OutputStream os = conn.getOutputStream();
		System.out.println("11111111111");//lenovo-imei-86263302763
		//os.write("{\"body\":{\"isRegister\":\"0\",\"brand\":\"Android\",\"mac\":\"020000000000\",\"userName\":\"test\",\"actionType\":\"20\",\"jailBreak\":\"N\",\"simCardCode\":\"\",\"deviceName\":\"iPhone\",\"osEdition\":\"7.1.2\",\"deviceToken\":\"2aa2a9dfa7de47e869c3a4aa6ea9f0479862a83e146666f3bf2a211e89ee85f2\",\"userPwd\":\"abc123\",\"MobileType\":\"iPhone\"},\"head\":{\"action\":\"selfHelpActive\",\"deviceModel\":\"iPhone5,2\",\"osType\":\"Android\",\"userCode\":\"test1\",\"deviceType\":\"iPhone\",\"identifier\":\"330d87741af99f14c49565184cae315a3891abcd\"}}".getBytes("utf-8"));
		os.write(json.getBytes("utf-8"));
		//String tt="{\"head\":{\"id5\":\"854cd8e1b75e5cb90bf953c7f6f860ef\",\"osType\":\"Android\",\"userCode\":\"lqj\",\"identifier\":\"samsung-imei-353745060000935\",\"deviceType\":\"0\"},\"body\":{\"appId\":\"EMM\"}}";
		//os.write("{\"head\":{\"id5\":\"\",\"osType\":\"Android\",\"userCode\":\"tangcan\",\"identifier\":\"samsung-imei-353415061869080\",\"deviceType\":\"0\"},\"body\":{}}".getBytes("utf-8"));
		os.close();//402880ce4b5e952c014bed996f9b2e80  huawei-imei-a000004f0027fb
		//lenovo-wifi-0090a2881a8c 
	    InputStream in = conn.getInputStream();
	    System.out.println("=====================================");
		ByteArrayOutputStream bos = new ByteArrayOutputStream();				
		int i = 0;
		while ((i = in.read()) != -1) {
			bos.write(i);
		}
		byte[] re = bos.toByteArray();				
		String reply = new String(re, "UTF-8").trim();
		System.out.println("返回："+reply);
		bos.close();
		in.close();	
		
	}
	}